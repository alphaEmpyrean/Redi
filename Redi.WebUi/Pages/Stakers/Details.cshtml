@page "{id?}"
@model Redi.WebUi.Pages.Stakers.DetailsModel
@{
    ViewData["Title"] = "Staker Details";
}

<h1>Staker Details</h1>
<div>
    <dl>
        <dt>Id</dt>
        <dd>@Model.StakerDetails.Id</dd>
        <dt>Email</dt>
        <dd>@Model.StakerDetails.Email</dd>
        <dt>First Name</dt>
        <dd>@Model.StakerDetails.FirstName</dd>
        <dt>Last Name</dt>
        <dd>@Model.StakerDetails.LastName</dd>
    </dl>
    @if (User.IsInRole("Admin"))
    {
        <a class="btn btn-primary mt-2" asp-page="./edit" asp-route-id="@Model.StakerDetails.Id">Edit</a>
    }
</div>
<hr />
<h2>Current Memberships</h2>
<div class="w-75">
    <table class="table">
        <tr>
            <th scope="col">Container Name</th>
            <th scope="col">Local Stake</th>
            <th scope="col">Stake</th>
        </tr>
        @foreach (var membership in Model.StakerDetails.Memberships)
        {
            <tr>
                <th scope="row">@membership.ContainerName</th>
                <td>@Decimal.Round(membership.LocalStake, 5)</td>
                <td>@Decimal.Round(membership.Stake, 5)</td>
            </tr>
        }
    </table>
</div>
<h2>Profits</h2>
<div class="w-50">
    <table class="table">
        <tr>
            <th scope="col">Date</th>
            <th scope="col">Stake</th>
            <th scope="col">Profit</th>
        </tr>
        @foreach(var profit in Model.StakerDetails.Profits)
        {
            <tr>
                <th scope="row">@profit.Date</th>
                <td>@Decimal.Round(profit.Stake, 5)</td>
                <td>@profit.Profit.ToString("C")</td>
            </tr>
        }
    </table>
</div>


